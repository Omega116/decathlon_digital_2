{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/lib/mock-data.ts"],"sourcesContent":["export interface Muscle {\n  id: string;\n  name: string;\n  count: number;\n  beginner: number;\n  intermediate: number;\n  advanced: number;\n}\n\nexport interface Equipment {\n  id: string;\n  name: string;\n  icon: string; // Icon identifier (e.g., \"dumbbell\", \"barbell\")\n  muscles: string[]; // Muscle IDs that can be trained with this equipment\n}\n\nexport const muscleData: Muscle[] = [\n  {\n    id: \"glutes\",\n    name: \"Glutes\",\n    count: 9,\n    beginner: 5,\n    intermediate: 3,\n    advanced: 1,\n  },\n  {\n    id: \"forearms\",\n    name: \"Forearms\",\n    count: 2,\n    beginner: 2,\n    intermediate: 0,\n    advanced: 0,\n  },\n  {\n    id: \"obliques\",\n    name: \"Obliques\",\n    count: 10,\n    beginner: 4,\n    intermediate: 3,\n    advanced: 3,\n  },\n  {\n    id: \"chest\",\n    name: \"Chest\",\n    count: 2,\n    beginner: 0,\n    intermediate: 2,\n    advanced: 0,\n  },\n  {\n    id: \"biceps\",\n    name: \"Biceps\",\n    count: 8,\n    beginner: 6,\n    intermediate: 2,\n    advanced: 0,\n  },\n  {\n    id: \"triceps\",\n    name: \"Triceps\",\n    count: 4,\n    beginner: 3,\n    intermediate: 1,\n    advanced: 0,\n  },\n  {\n    id: \"shoulders\",\n    name: \"Shoulders\",\n    count: 18,\n    beginner: 9,\n    intermediate: 7,\n    advanced: 2,\n  },\n  {\n    id: \"lower-back\",\n    name: \"Lower Back\",\n    count: 1,\n    beginner: 0,\n    intermediate: 1,\n    advanced: 0,\n  },\n  {\n    id: \"lats\",\n    name: \"Lats\",\n    count: 7,\n    beginner: 2,\n    intermediate: 4,\n    advanced: 1,\n  },\n  {\n    id: \"traps\",\n    name: \"Traps\",\n    count: 6,\n    beginner: 3,\n    intermediate: 3,\n    advanced: 0,\n  },\n  {\n    id: \"quads\",\n    name: \"Quadriceps\",\n    count: 22,\n    beginner: 9,\n    intermediate: 7,\n    advanced: 6,\n  },\n  {\n    id: \"hamstrings\",\n    name: \"Hamstrings\",\n    count: 6,\n    beginner: 1,\n    intermediate: 3,\n    advanced: 2,\n  },\n  {\n    id: \"abdominals\",\n    name: \"Abdominals\",\n    count: 6,\n    beginner: 0,\n    intermediate: 4,\n    advanced: 2,\n  },\n  {\n    id: \"calves\",\n    name: \"Calves\",\n    count: 2,\n    beginner: 2,\n    intermediate: 0,\n    advanced: 0,\n  },\n];\n\n// Equipment to muscle mappings (scientifically accurate)\nexport const equipmentData: Equipment[] = [\n  {\n    id: \"none\",\n    name: \"Bodyweight\",\n    icon: \"user\",\n    muscles: [\n      \"chest\",\n      \"shoulders\",\n      \"triceps\",\n      \"biceps\",\n      \"abdominals\",\n      \"obliques\",\n      \"quads\",\n      \"hamstrings\",\n      \"glutes\",\n      \"calves\",\n      \"lats\",\n      \"traps\",\n    ],\n  },\n  {\n    id: \"dumbbell\",\n    name: \"Dumbbell\",\n    icon: \"dumbbell\",\n    muscles: [\n      \"chest\",\n      \"shoulders\",\n      \"triceps\",\n      \"biceps\",\n      \"forearms\",\n      \"lats\",\n      \"traps\",\n      \"quads\",\n      \"hamstrings\",\n      \"glutes\",\n      \"abdominals\",\n      \"obliques\",\n    ],\n  },\n  {\n    id: \"barbell\",\n    name: \"Barbell\",\n    icon: \"grip-vertical\",\n    muscles: [\n      \"chest\",\n      \"shoulders\",\n      \"triceps\",\n      \"lats\",\n      \"traps\",\n      \"lower-back\",\n      \"quads\",\n      \"hamstrings\",\n      \"glutes\",\n      \"forearms\",\n    ],\n  },\n  {\n    id: \"kettlebell\",\n    name: \"Kettlebell\",\n    icon: \"circle\",\n    muscles: [\n      \"shoulders\",\n      \"forearms\",\n      \"glutes\",\n      \"hamstrings\",\n      \"quads\",\n      \"abdominals\",\n      \"obliques\",\n      \"lats\",\n      \"traps\",\n    ],\n  },\n  {\n    id: \"band\",\n    name: \"Resistance Band\",\n    icon: \"waves\",\n    muscles: [\n      \"chest\",\n      \"shoulders\",\n      \"triceps\",\n      \"biceps\",\n      \"lats\",\n      \"quads\",\n      \"hamstrings\",\n      \"glutes\",\n      \"abdominals\",\n    ],\n  },\n  {\n    id: \"pull-up-bar\",\n    name: \"Pull-up Bar\",\n    icon: \"rectangle-horizontal\",\n    muscles: [\"lats\", \"biceps\", \"shoulders\", \"traps\", \"forearms\", \"abdominals\"],\n  },\n  {\n    id: \"bench\",\n    name: \"Bench\",\n    icon: \"rectangle-horizontal\",\n    muscles: [\"chest\", \"shoulders\", \"triceps\", \"biceps\", \"abdominals\"],\n  },\n];\n\nexport const difficultyLevels = [\n  \"Beginner\",\n  \"Intermediate\",\n  \"Advanced\",\n] as const;\nexport type Difficulty = (typeof difficultyLevels)[number];\n\n// Map muscle IDs to SVG data-elem names (used in the Illustration component)\nexport const muscleIdToSvgName: Record<string, string> = {\n  glutes: \"Glutes\",\n  forearms: \"Forearms\",\n  obliques: \"Obliques\",\n  chest: \"Chest\",\n  biceps: \"Biceps\",\n  triceps: \"Triceps\",\n  shoulders: \"Shoulders\",\n  \"lower-back\": \"Lower back\",\n  lats: \"Lats\",\n  traps: \"Traps\",\n  quads: \"Quads\",\n  hamstrings: \"Hamstrings\",\n  abdominals: \"Abdominals\",\n  calves: \"Calves\",\n};\n\n// Map SVG data-elem names back to muscle IDs\nexport const svgNameToMuscleId: Record<string, string> = {\n  Glutes: \"glutes\",\n  Forearms: \"forearms\",\n  Obliques: \"obliques\",\n  Chest: \"chest\",\n  Biceps: \"biceps\",\n  Triceps: \"triceps\",\n  Shoulders: \"shoulders\",\n  \"Lower back\": \"lower-back\",\n  Lats: \"lats\",\n  Traps: \"traps\",\n  Quads: \"quads\",\n  Hamstrings: \"hamstrings\",\n  Abdominals: \"abdominals\",\n  Calves: \"calves\",\n};\n\nexport interface Exercise {\n  id: string;\n  name: string;\n  muscles: string[]; // Muscle IDs\n  equipment: string[]; // Equipment IDs\n  difficulty: Difficulty;\n  gif: string; // GIF filename\n  description?: string; // Exercise description\n}\n\nexport const exerciseData: Exercise[] = [\n  {\n    id: \"barbell-row\",\n    name: \"Barbell Row\",\n    muscles: [\"lats\", \"traps\", \"lower-back\"],\n    equipment: [\"barbell\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/barbell_row.gif\",\n  },\n  {\n    id: \"barbell-shrug\",\n    name: \"Barbell Shrug\",\n    muscles: [\"traps\"],\n    equipment: [\"barbell\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/barbell_shrug.gif\",\n  },\n  {\n    id: \"barbell-skullcrusher\",\n    name: \"Barbell Skullcrusher\",\n    muscles: [\"triceps\"],\n    equipment: [\"barbell\", \"bench\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Barbell Skullcrusher .jpg\",\n  },\n  {\n    id: \"barbell-split-squat\",\n    name: \"Barbell Split Squat\",\n    muscles: [\"quads\", \"glutes\"],\n    equipment: [\"barbell\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Barbell Split Squat.jpg\",\n  },\n  {\n    id: \"barbell-squat\",\n    name: \"Barbell Squat\",\n    muscles: [\"quads\", \"glutes\"],\n    equipment: [\"barbell\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Barbell Squat.gif\",\n  },\n  {\n    id: \"barbell-wrist-curl\",\n    name: \"Barbell Wrist Curl\",\n    muscles: [\"forearms\"],\n    equipment: [\"barbell\", \"bench\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Barbell Wrist Curl.gif\",\n  },\n  {\n    id: \"bench-leg-raise\",\n    name: \"Bench Leg Raise\",\n    muscles: [\"abdominals\"],\n    equipment: [\"bench\", \"none\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Bench Leg Raise .gif\",\n  },\n  {\n    id: \"bent-over-dumbbell-row\",\n    name: \"Bent Over Dumbbell Row\",\n    muscles: [\"lats\", \"traps\"],\n    equipment: [\"dumbbell\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/bent_over_dumbbell_row.gif\",\n  },\n  {\n    id: \"cable-bicep-curl\",\n    name: \"Cable Bicep Curl\",\n    muscles: [\"biceps\"],\n    equipment: [\"band\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Cable Bicep Curl.gif\",\n  },\n  {\n    id: \"cable-crossover\",\n    name: \"Cable Crossover\",\n    muscles: [\"chest\"],\n    equipment: [\"band\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/cable_crossover.gif\",\n  },\n  {\n    id: \"cable-lat-pullover\",\n    name: \"Cable Lat Pullover\",\n    muscles: [\"lats\"],\n    equipment: [\"band\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Cable Lat Pullover.gif\",\n  },\n  {\n    id: \"chest-supported-dumbbell-row\",\n    name: \"Chest Supported Dumbbell Row\",\n    muscles: [\"lats\", \"traps\"],\n    equipment: [\"dumbbell\", \"bench\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/chest_supported_dumbbell_row.gif\",\n  },\n  {\n    id: \"dumbbell-bench-press\",\n    name: \"Dumbbell Bench Press\",\n    muscles: [\"chest\", \"triceps\"],\n    equipment: [\"dumbbell\", \"bench\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Dumbbell Bench Press .gif\",\n  },\n  {\n    id: \"dumbbell-fly\",\n    name: \"Dumbbell Fly\",\n    muscles: [\"chest\"],\n    equipment: [\"dumbbell\", \"bench\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Dumbbell Fly.gif\",\n  },\n  {\n    id: \"dumbbell-overhead-triceps-extension\",\n    name: \"Dumbbell Overhead Triceps Extension\",\n    muscles: [\"triceps\"],\n    equipment: [\"dumbbell\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Dumbbell Overhead Triceps Extension.jpg\",\n  },\n  {\n    id: \"dumbbell-shoulder-press\",\n    name: \"Dumbbell Shoulder Press\",\n    muscles: [\"shoulders\"],\n    equipment: [\"dumbbell\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Dumbbell Shoulder Press.gif\",\n  },\n  {\n    id: \"one-arm-dumbbell-row\",\n    name: \"One Arm Dumbbell Row\",\n    muscles: [\"lats\", \"traps\"],\n    equipment: [\"dumbbell\", \"bench\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/one_arm_dumbbell_row.gif\",\n  },\n  {\n    id: \"pull-up\",\n    name: \"Pull Up\",\n    muscles: [\"lats\", \"biceps\", \"shoulders\", \"traps\"],\n    equipment: [\"pull-up-bar\", \"none\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/pull_up.gif\",\n  },\n  {\n    id: \"seated-barbell-twist\",\n    name: \"Seated Barbell Twist\",\n    muscles: [\"obliques\"],\n    equipment: [\"barbell\", \"bench\"],\n    difficulty: \"Intermediate\",\n    gif: \"assets/Seated Barbell Twist.jpg\",\n  },\n  {\n    id: \"single-arm-straight-arm-pulldown\",\n    name: \"Single Arm Straight Arm Pulldown\",\n    muscles: [\"lats\"],\n    equipment: [\"band\"],\n    difficulty: \"Advanced\",\n    gif: \"assets/Single Arm Straight Arm Pulldown .gif\",\n  },\n  {\n    id: \"smith-machine-bench-press\",\n    name: \"Smith Machine Bench Press\",\n    muscles: [\"chest\", \"triceps\"],\n    equipment: [\"barbell\", \"bench\"],\n    difficulty: \"Beginner\",\n    gif: \"assets/Smith Machine Bench Press.gif\",\n  },\n];\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-4 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 680, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,mVACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/components/assistant/MediaPipeAssistant.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { CirclePlay, Square, LoaderCircle } from \"lucide-react\";\nimport { exerciseData } from \"@/lib/mock-data\";\n\n// MediaPipe globals from CDN\ndeclare global {\n  interface Window {\n    Pose?: any;\n    Camera?: any;\n  }\n}\n\nconst ALL_EXERCISES = exerciseData;\n\nconst IDEAL_ANGLES: Record<string, Record<string, [number, number]>> = {\n  squat: {\n    \"Left Knee\": [80, 110],\n    \"Right Knee\": [80, 110],\n    \"Back Alignment\": [160, 180],\n  },\n  pushup: {\n    \"Left Elbow\": [80, 110],\n    \"Right Elbow\": [80, 110],\n    \"Back Alignment\": [160, 180],\n  },\n  deadlift: {\n    \"Back Alignment\": [160, 180],\n    \"Left Knee\": [160, 180],\n    \"Right Knee\": [160, 180],\n  },\n  bicep_curl: {\n    \"Left Elbow\": [30, 50],\n    \"Right Elbow\": [30, 50],\n  },\n  shoulder_press: {\n    \"Left Elbow\": [80, 100],\n    \"Right Elbow\": [80, 100],\n    \"Left Shoulder\": [160, 180],\n    \"Right Shoulder\": [160, 180],\n  },\n};\n\nexport default function MediaPipeAssistant() {\n  const videoRef = useRef<HTMLVideoElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const cameraRef = useRef<any>(null);\n  const poseRef = useRef<any>(null);\n\n  const [currentExercise, setCurrentExercise] = useState(\n    ALL_EXERCISES[0]?.id ?? \"\"\n  );\n  const [loading, setLoading] = useState(false);\n  const [ready, setReady] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [feedbackText, setFeedbackText] = useState<string>(\n    'Click \"Start Camera\" and begin your exercise to receive real-time AI feedback on your form.'\n  );\n  const [status, setStatus] = useState<{\n    label: string;\n    variant: \"perfect\" | \"good\" | \"needs\" | \"hidden\";\n  }>({ label: \"Ready to analyze\", variant: \"hidden\" });\n  const prevFeedbackRef = useRef<string>(\"\");\n  const analyzingFlagRef = useRef<boolean>(false);\n\n  const selectedExercise = useMemo(\n    () => ALL_EXERCISES.find((e) => e.id === currentExercise),\n    [currentExercise]\n  );\n  const referenceImage = selectedExercise\n    ? `/${selectedExercise.gif}`\n    : undefined;\n\n  const loadScripts = useCallback(async () => {\n    const add = (src: string) =>\n      new Promise<void>((resolve, reject) => {\n        const s = document.createElement(\"script\");\n        s.src = src;\n        s.async = true;\n        s.onload = () => resolve();\n        s.onerror = (e) => reject(e);\n        document.body.appendChild(s);\n      });\n\n    if (window.Pose && window.Camera) return;\n\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5.1675469404/pose.js\"\n    );\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3.1675466862/camera_utils.js\"\n    );\n  }, []);\n\n  const updateFeedback = useCallback((text: string) => {\n    setFeedbackText(text);\n  }, []);\n\n  const updateFormStatus = useCallback(\n    (label: string, kind: \"perfect\" | \"good\" | \"needs\" | \"hidden\") => {\n      setStatus({ label, variant: kind });\n    },\n    []\n  );\n\n  const showAnalyzing = useCallback((show: boolean) => {\n    setIsAnalyzing(show);\n  }, []);\n\n  function mapExerciseToIdealKey(\n    name: string\n  ): keyof typeof IDEAL_ANGLES | null {\n    const n = name.toLowerCase();\n    if (/squat/.test(n)) return \"squat\";\n    if (/deadlift/.test(n)) return \"deadlift\";\n    if (/push\\s?-?\\s?up/.test(n)) return \"pushup\";\n    if (/curl/.test(n)) return \"bicep_curl\";\n    if (/(shoulder\\s*press|overhead\\s*press)/.test(n)) return \"shoulder_press\";\n    return null;\n  }\n\n  const startCamera = useCallback(async () => {\n    try {\n      setLoading(true);\n      await loadScripts();\n\n      // Request camera\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: { width: 640, height: 480 },\n      });\n      if (!videoRef.current) return;\n      videoRef.current.srcObject = stream;\n\n      // Init Pose\n      poseRef.current = new window.Pose({\n        locateFile: (file: string) =>\n          `https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5.1675469404/${file}`,\n      });\n      poseRef.current.setOptions({\n        modelComplexity: 1,\n        smoothLandmarks: true,\n        enableSegmentation: false,\n        minDetectionConfidence: 0.5,\n        minTrackingConfidence: 0.5,\n      });\n      poseRef.current.onResults(onPoseResults);\n\n      // Camera wrapper reads from the HTMLVideoElement\n      cameraRef.current = new window.Camera(videoRef.current, {\n        onFrame: async () => {\n          if (poseRef.current && videoRef.current?.readyState === 4) {\n            await poseRef.current.send({ image: videoRef.current });\n          }\n        },\n        width: 640,\n        height: 480,\n      });\n      cameraRef.current.start();\n\n      setReady(true);\n      updateFeedback(\n        \"ðŸ“¹ Camera started! Begin your exercise and AI will analyze your form.\"\n      );\n      updateFormStatus(\"Ready to analyze\", \"good\");\n    } catch (e) {\n      console.error(\"Camera init error:\", e);\n      updateFeedback(\n        \"âŒ Error accessing camera. Please allow camera permissions and try again.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  }, [loadScripts, updateFeedback, updateFormStatus]);\n\n  const stopCamera = useCallback(() => {\n    try {\n      const v = videoRef.current;\n      const src = v?.srcObject as MediaStream | null;\n      src?.getTracks().forEach((t) => t.stop());\n      if (cameraRef.current) cameraRef.current.stop();\n      setReady(false);\n      updateFeedback('â¹ï¸ Camera stopped. Click \"Start Camera\" to resume.');\n      updateFormStatus(\"Ready to analyze\", \"hidden\");\n    } catch {}\n  }, [updateFeedback, updateFormStatus]);\n\n  useEffect(() => {\n    return () => {\n      try {\n        const v = videoRef.current;\n        const src = v?.srcObject as MediaStream | null;\n        src?.getTracks().forEach((t) => t.stop());\n      } catch {}\n      try {\n        cameraRef.current?.stop?.();\n      } catch {}\n    };\n  }, []);\n\n  function drawPose(landmarks: any[]) {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    ctx.save();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // draw skeleton\n    const connections = [\n      [11, 12],\n      [11, 13],\n      [13, 15],\n      [12, 14],\n      [14, 16],\n      [11, 23],\n      [12, 24],\n      [23, 24],\n      [23, 25],\n      [25, 27],\n      [27, 29],\n      [27, 31],\n      [24, 26],\n      [26, 28],\n      [28, 30],\n      [28, 32],\n    ];\n\n    ctx.strokeStyle = \"#22c55e\";\n    ctx.lineWidth = 3;\n    for (const [s, e] of connections) {\n      const start = landmarks[s];\n      const end = landmarks[e];\n      if (start && end && start.visibility > 0.5 && end.visibility > 0.5) {\n        ctx.beginPath();\n        ctx.moveTo(start.x * canvas.width, start.y * canvas.height);\n        ctx.lineTo(end.x * canvas.width, end.y * canvas.height);\n        ctx.stroke();\n      }\n    }\n\n    ctx.fillStyle = \"#ef4444\";\n    ctx.strokeStyle = \"#22c55e\";\n    ctx.lineWidth = 2;\n    for (const lm of landmarks) {\n      if (lm.visibility > 0.5) {\n        ctx.beginPath();\n        ctx.arc(lm.x * canvas.width, lm.y * canvas.height, 5, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n      }\n    }\n\n    ctx.restore();\n  }\n\n  function calculateAngles(landmarks: any[]) {\n    const getAngle = (a: any, b: any, c: any) => {\n      const radians =\n        Math.atan2(c.y - b.y, c.x - b.x) - Math.atan2(a.y - b.y, a.x - b.x);\n      let angle = Math.abs((radians * 180.0) / Math.PI);\n      if (angle > 180.0) angle = 360 - angle;\n      return Math.round(angle);\n    };\n\n    const angles: Record<string, number> = {};\n    try {\n      angles[\"Left Knee\"] = getAngle(\n        landmarks[23],\n        landmarks[25],\n        landmarks[27]\n      );\n      angles[\"Right Knee\"] = getAngle(\n        landmarks[24],\n        landmarks[26],\n        landmarks[28]\n      );\n      angles[\"Left Hip\"] = getAngle(\n        landmarks[11],\n        landmarks[23],\n        landmarks[25]\n      );\n      angles[\"Right Hip\"] = getAngle(\n        landmarks[12],\n        landmarks[24],\n        landmarks[26]\n      );\n      angles[\"Left Elbow\"] = getAngle(\n        landmarks[11],\n        landmarks[13],\n        landmarks[15]\n      );\n      angles[\"Right Elbow\"] = getAngle(\n        landmarks[12],\n        landmarks[14],\n        landmarks[16]\n      );\n      angles[\"Left Shoulder\"] = getAngle(\n        landmarks[13],\n        landmarks[11],\n        landmarks[23]\n      );\n      angles[\"Right Shoulder\"] = getAngle(\n        landmarks[14],\n        landmarks[12],\n        landmarks[24]\n      );\n\n      const midShoulder = {\n        x: (landmarks[11].x + landmarks[12].x) / 2,\n        y: (landmarks[11].y + landmarks[12].y) / 2,\n      };\n      const midHip = {\n        x: (landmarks[23].x + landmarks[24].x) / 2,\n        y: (landmarks[23].y + landmarks[24].y) / 2,\n      };\n      angles[\"Back Alignment\"] = getAngle(\n        { x: midShoulder.x, y: 0 },\n        midShoulder,\n        midHip\n      );\n    } catch (e) {\n      // ignore\n    }\n\n    return angles;\n  }\n\n  function checkFormAccuracy(\n    currentAngles: Record<string, number>,\n    idealAngles: Record<string, [number, number]>\n  ) {\n    let total = 0;\n    let pass = 0;\n    for (const [joint, [min, max]] of Object.entries(idealAngles)) {\n      if (currentAngles[joint] !== undefined) {\n        total++;\n        const angle = currentAngles[joint];\n        const tolerance = 15;\n        if (angle >= min - tolerance && angle <= max + tolerance) pass++;\n      }\n    }\n    const accuracy = total > 0 ? Math.round((pass / total) * 100) : 0;\n    return { accuracy, isPerfect: accuracy >= 95 };\n  }\n\n  async function analyzePose(landmarks: any[]) {\n    if (analyzingFlagRef.current) return;\n    analyzingFlagRef.current = true;\n    showAnalyzing(true);\n\n    try {\n      const angles = calculateAngles(landmarks);\n      const idealKey = mapExerciseToIdealKey(selectedExercise?.name || \"\");\n      const ideal = idealKey ? IDEAL_ANGLES[idealKey] : undefined;\n      const form = ideal ? checkFormAccuracy(angles, ideal) : null;\n\n      const frameDataUrl =\n        canvasRef.current?.toDataURL(\"image/jpeg\", 0.85) || \"\";\n      const res = await fetch(\"/api/gemini-feedback\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          exercise: selectedExercise?.name || currentExercise,\n          angles,\n          idealAngles: ideal || {},\n          referenceImagePath: selectedExercise?.gif || \"\",\n          currentFrameDataUrl: frameDataUrl,\n          previousFeedback: prevFeedbackRef.current || \"\",\n        }),\n      });\n      if (!res.ok) throw new Error(`API Error: ${res.status}`);\n      const data = (await res.json()) as { text?: string; error?: string };\n      const fb = data.text || data.error || \"\";\n\n      prevFeedbackRef.current = fb;\n      updateFeedback(fb);\n\n      if (form?.isPerfect) {\n        updateFormStatus(\"PERFECT FORM! âœ“\", \"perfect\");\n      } else if (form && form.accuracy >= 80) {\n        updateFormStatus(`Good Form (${form.accuracy}%)`, \"good\");\n      } else if (form) {\n        updateFormStatus(`Needs Improvement (${form.accuracy}%)`, \"needs\");\n      } else {\n        // No ideal profile known for this exercise; hide status box\n        updateFormStatus(\"\", \"hidden\");\n      }\n    } catch (e: any) {\n      console.error(\"Analysis error:\", e);\n      updateFeedback(`âŒ Error: ${e.message || \"Failed to analyze\"}`);\n    } finally {\n      showAnalyzing(false);\n      setTimeout(() => {\n        analyzingFlagRef.current = false;\n      }, 3000);\n    }\n  }\n\n  function onPoseResults(results: any) {\n    if (!results?.poseLandmarks) return;\n    drawPose(results.poseLandmarks);\n    if (!analyzingFlagRef.current) analyzePose(results.poseLandmarks);\n  }\n\n  return (\n    <div className=\"mx-auto max-w-6xl px-4 pb-10 space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold\">AI Posture Assistant</h1>\n        <div className=\"flex items-center gap-2\">\n          <select\n            className=\"border rounded-md px-2 py-1 text-sm bg-background\"\n            value={currentExercise}\n            onChange={(e) => setCurrentExercise(e.target.value)}\n            aria-label=\"Select exercise\"\n          >\n            {ALL_EXERCISES.map((ex) => (\n              <option key={ex.id} value={ex.id}>\n                {ex.name}\n              </option>\n            ))}\n          </select>\n          {!ready ? (\n            <Button onClick={startCamera} disabled={loading} size=\"sm\">\n              {loading ? (\n                <LoaderCircle className=\"animate-spin\" />\n              ) : (\n                <CirclePlay />\n              )}\n              Start Camera\n            </Button>\n          ) : (\n            <Button onClick={stopCamera} variant=\"destructive\" size=\"sm\">\n              <Square /> Stop\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Card className=\"border-2\">\n          <CardHeader>\n            <CardTitle>Live Camera</CardTitle>\n            <CardDescription>\n              {ready\n                ? \"Tracking landmarks in real-time\"\n                : loading\n                ? \"Starting camera...\"\n                : \"Waiting for camera\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"relative w-full max-w-full aspect-video bg-black rounded-lg overflow-hidden\">\n              <video\n                ref={videoRef}\n                className=\"absolute inset-0 w-full h-full\"\n                autoPlay\n                playsInline\n              />\n              <canvas\n                ref={canvasRef}\n                className=\"absolute inset-0 w-full h-full\"\n              />\n            </div>\n            <div className=\"mt-3\">\n              <div className=\"text-sm text-muted-foreground\">Reference: </div>\n              <div className=\"mt-2 flex items-center gap-3\">\n                {referenceImage ? (\n                  <img\n                    src={referenceImage}\n                    alt=\"Exercise reference\"\n                    className=\"h-24 w-auto rounded-md border\"\n                  />\n                ) : null}\n                <Badge variant=\"secondary\" className=\"text-xs\">\n                  {selectedExercise?.name ?? currentExercise}\n                </Badge>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-2\">\n          <CardHeader>\n            <CardTitle>AI Feedback</CardTitle>\n            <CardDescription>\n              {isAnalyzing\n                ? \"Analyzing your form...\"\n                : \"Live guidance based on your movement\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {isAnalyzing && (\n              <div className=\"text-sm text-muted-foreground flex items-center gap-2 mb-2\">\n                <LoaderCircle className=\"animate-spin\" /> Processing\n              </div>\n            )}\n            {status.variant !== \"hidden\" && (\n              <div\n                className={\n                  \"mb-3 rounded-md px-3 py-2 text-sm font-medium \" +\n                  (status.variant === \"perfect\"\n                    ? \"bg-green-100 text-green-700 border border-green-300\"\n                    : status.variant === \"good\"\n                    ? \"bg-blue-100 text-blue-700 border border-blue-300\"\n                    : \"bg-amber-100 text-amber-700 border border-amber-300\")\n                }\n              >\n                {status.label}\n              </div>\n            )}\n            <div className=\"text-sm whitespace-pre-wrap leading-6\">\n              {feedbackText}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1506, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/nuit/muscle-selector/app/assistant/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { exerciseData } from \"@/lib/mock-data\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { CirclePlay, Square, LoaderCircle } from \"lucide-react\";\nimport MediaPipeAssistant from \"@/components/assistant/MediaPipeAssistant\";\n\n// Simple helper math\nfunction angleDeg(ax: number, ay: number, bx: number, by: number) {\n  // angle of vector AB to vertical (in degrees)\n  const dx = ax - bx;\n  const dy = ay - by;\n  const rad = Math.atan2(dx, dy); // swap to measure vs vertical axis\n  return (rad * 180) / Math.PI;\n}\n\ntype Keypoint = { x: number; y: number; score?: number; name?: string };\ntype Pose = { keypoints?: Keypoint[] };\n\nexport default function AssistantPage() {\n  return <MediaPipeAssistant />;\n  const videoRef = useRef<HTMLVideoElement | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [ready, setReady] = useState(false);\n  const [feedback, setFeedback] = useState<string[]>([]);\n  const [confidence, setConfidence] = useState(0);\n  const [currentExercise, setCurrentExercise] = useState(\n    exerciseData[0]?.id ?? \"\"\n  );\n  const [isRecording, setIsRecording] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [aiText, setAiText] = useState<string>(\"\");\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const chunksRef = useRef<BlobPart[]>([]);\n\n  const currentExerciseName = useMemo(\n    () => exerciseData.find((e) => e.id === currentExercise)?.name ?? \"\",\n    [currentExercise]\n  );\n\n  const currentExerciseNameRef = useRef(currentExerciseName);\n  useEffect(() => {\n    currentExerciseNameRef.current = currentExerciseName;\n  }, [currentExerciseName]);\n\n  type TFNS = {\n    setBackend: (b: string) => Promise<void>;\n    ready: () => Promise<void>;\n  };\n  type PoseDetectionNS = {\n    movenet: { modelType: { SINGLEPOSE_LIGHTNING: string } };\n    SupportedModels: { MoveNet: unknown };\n    createDetector: (\n      model: unknown,\n      config: { modelType: string; enableSmoothing?: boolean }\n    ) => Promise<{\n      estimatePoses: (\n        video: HTMLVideoElement,\n        opts?: { flipHorizontal?: boolean }\n      ) => Promise<Pose[]>;\n    }>;\n  };\n\n  const draw = React.useCallback((poses: Pose[]) => {\n    const ctx = canvasRef.current?.getContext(\"2d\");\n    const v = videoRef.current;\n    if (!ctx || !v || !canvasRef.current) return;\n\n    canvasRef.current.width = v.videoWidth;\n    canvasRef.current.height = v.videoHeight;\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.save();\n    ctx.scale(-1, 1); // mirror for selfie view\n    ctx.translate(-ctx.canvas.width, 0);\n    ctx.drawImage(v, 0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.restore();\n\n    const kp: Record<string, Keypoint> = {};\n    const first = poses?.[0];\n    if (first?.keypoints) {\n      for (const p of first.keypoints) {\n        if (p?.name) kp[p.name] = p;\n      }\n    }\n\n    // draw keypoints\n    ctx.fillStyle = \"#22c55e\";\n    for (const k of Object.values(kp)) {\n      if (!k || (k.score ?? 0) < 0.3) continue;\n      ctx.beginPath();\n      ctx.arc(k.x, k.y, 4, 0, Math.PI * 2);\n      ctx.fill();\n    }\n\n    const fb: string[] = [];\n    const scores: number[] = [];\n    for (const k of Object.values(kp))\n      if (typeof k?.score === \"number\") scores.push(k.score!);\n    const avg = scores.length\n      ? (scores.reduce((a, b) => a + b, 0) / scores.length) * 100\n      : 0;\n\n    const ls = (n: string) => kp[n];\n    const shoulder = avgPoint(ls(\"left_shoulder\"), ls(\"right_shoulder\"));\n    const hip = avgPoint(ls(\"left_hip\"), ls(\"right_hip\"));\n    const knee = avgPoint(ls(\"left_knee\"), ls(\"right_knee\"));\n    const elbowL = ls(\"left_elbow\");\n    const elbowR = ls(\"right_elbow\");\n    const exName = currentExerciseNameRef.current;\n\n    if (shoulder && hip) {\n      const backAngle = Math.abs(\n        angleDeg(shoulder.x, shoulder.y, hip.x, hip.y)\n      );\n      if (isPress(exName) || isRow(exName) || isSquat(exName)) {\n        if (backAngle > 15) fb.push(\"Straighten your back\");\n      }\n    }\n\n    if ((isRow(exName) || isPress(exName)) && shoulder && elbowL && elbowR) {\n      const dYL = Math.abs(elbowL.y - shoulder.y);\n      const dYR = Math.abs(elbowR.y - shoulder.y);\n      if (dYL > 80 || dYR > 80) fb.push(\"Lower your elbows\");\n    }\n\n    if (isSquat(exName) && knee && hip) {\n      const kneeBack = knee.y < hip.y - 20; // rough check\n      if (!kneeBack) fb.push(\"Keep your knees aligned\");\n    }\n\n    setFeedback(fb.length ? fb : [\"Good form! Keep going.\"]);\n    setConfidence(Math.round(avg));\n  }, []);\n\n  const loadScripts = useCallback(async () => {\n    const add = (src: string) =>\n      new Promise<void>((resolve, reject) => {\n        const s = document.createElement(\"script\");\n        s.src = src;\n        s.async = true;\n        s.onload = () => resolve();\n        s.onerror = (e) => reject(e);\n        document.body.appendChild(s);\n      });\n\n    const w = window as unknown as {\n      tf?: TFNS;\n      poseDetection?: PoseDetectionNS;\n    };\n    if (w.tf && w.poseDetection) return;\n\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.16.0/dist/tf.min.js\"\n    );\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl@4.16.0/dist/tf-backend-webgl.min.js\"\n    );\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@4.16.0/dist/tf-backend-wasm.min.js\"\n    );\n    await add(\n      \"https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection@3.3.0/dist/pose-detection.min.js\"\n    );\n  }, []);\n\n  useEffect(() => {\n    let stop = false;\n    let detector: {\n      estimatePoses: (\n        video: HTMLVideoElement,\n        opts?: { flipHorizontal?: boolean }\n      ) => Promise<Pose[]>;\n    } | null = null;\n\n    async function init() {\n      try {\n        setLoading(true);\n        await loadScripts();\n        const w = window as unknown as {\n          tf?: TFNS;\n          poseDetection?: PoseDetectionNS;\n        };\n        const tf = w.tf as TFNS;\n        const poseDetection = w.poseDetection as PoseDetectionNS;\n        try {\n          await tf.setBackend(\"webgl\");\n          await tf.ready();\n        } catch {\n          try {\n            await tf.setBackend(\"wasm\");\n            await tf.ready();\n          } catch {\n            await tf.setBackend(\"cpu\");\n            await tf.ready();\n          }\n        }\n\n        detector = await poseDetection.createDetector(\n          poseDetection.SupportedModels.MoveNet,\n          {\n            modelType: poseDetection.movenet.modelType.SINGLEPOSE_LIGHTNING,\n            enableSmoothing: true,\n          }\n        );\n\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: { facingMode: \"user\" },\n          audio: false,\n        });\n        if (!videoRef.current) return;\n        videoRef.current.srcObject = stream;\n        await videoRef.current.play();\n        setReady(true);\n\n        const loop = async () => {\n          if (stop) return;\n          if (!videoRef.current || !canvasRef.current) {\n            requestAnimationFrame(loop);\n            return;\n          }\n          if (!detector) {\n            requestAnimationFrame(loop);\n            return;\n          }\n          const poses: Pose[] = await detector.estimatePoses(videoRef.current, {\n            flipHorizontal: true,\n          });\n          draw(poses);\n          requestAnimationFrame(loop);\n        };\n        loop();\n      } catch (e) {\n        console.error(e);\n        setFeedback([\"Camera or model failed to initialize.\"]);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    init();\n\n    return () => {\n      stop = true;\n      try {\n        const v = videoRef.current;\n        const src = v?.srcObject as MediaStream | null;\n        src?.getTracks().forEach((t) => t.stop());\n      } catch {}\n      try {\n        mediaRecorderRef.current?.stop();\n      } catch {}\n    };\n  }, [loadScripts]);\n\n  const startRecording = useCallback(() => {\n    if (isRecording || !canvasRef.current) return;\n    try {\n      const stream = canvasRef.current.captureStream(30);\n      const mimeType = MediaRecorder.isTypeSupported(\"video/webm;codecs=vp9\")\n        ? \"video/webm;codecs=vp9\"\n        : \"video/webm\";\n      const mr = new MediaRecorder(stream, { mimeType });\n      chunksRef.current = [];\n      mr.ondataavailable = (e) => {\n        if (e.data && e.data.size > 0) chunksRef.current.push(e.data);\n      };\n      mr.onstop = async () => {\n        const blob = new Blob(chunksRef.current, { type: \"video/webm\" });\n        chunksRef.current = [];\n        if (blob.size === 0) return;\n        setIsAnalyzing(true);\n        setAiText(\"\");\n        try {\n          const fd = new FormData();\n          fd.append(\"file\", blob, `recording-${Date.now()}.webm`);\n          fd.append(\"exercise\", currentExercise);\n          const res = await fetch(\"/api/analyze-video\", {\n            method: \"POST\",\n            body: fd,\n          });\n          if (!res.ok) throw new Error(\"Upload failed\");\n          const json = (await res.json()) as { text?: string; error?: string };\n          setAiText(json.text || json.error || \"\");\n        } catch {\n          setAiText(\"Failed to analyze the recording.\");\n        } finally {\n          setIsAnalyzing(false);\n        }\n      };\n      mediaRecorderRef.current = mr;\n      mr.start();\n      setIsRecording(true);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [isRecording, currentExercise]);\n\n  const stopRecording = useCallback(() => {\n    if (!isRecording) return;\n    try {\n      mediaRecorderRef.current?.stop();\n    } finally {\n      setIsRecording(false);\n    }\n  }, [isRecording]);\n\n  return (\n    <div className=\"mx-auto max-w-5xl px-4 pb-10 space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-semibold\">AI Posture Assistant</h1>\n        <div className=\"flex items-center gap-2\">\n          <select\n            className=\"border rounded-md px-2 py-1 text-sm bg-background\"\n            value={currentExercise}\n            onChange={(e) => setCurrentExercise(e.target.value)}\n            aria-label=\"Select exercise\"\n          >\n            {exerciseData.map((ex) => (\n              <option key={ex.id} value={ex.id}>\n                {ex.name}\n              </option>\n            ))}\n          </select>\n          <Badge variant=\"secondary\">Confidence: {confidence}%</Badge>\n          {!isRecording ? (\n            <Button\n              onClick={startRecording}\n              disabled={!ready || loading || isAnalyzing}\n              variant=\"default\"\n              size=\"sm\"\n            >\n              {isAnalyzing ? (\n                <LoaderCircle className=\"animate-spin\" />\n              ) : (\n                <CirclePlay />\n              )}\n              Start Recording\n            </Button>\n          ) : (\n            <Button\n              onClick={stopRecording}\n              disabled={isAnalyzing}\n              variant=\"destructive\"\n              size=\"sm\"\n            >\n              <Square /> Stop\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <Card className=\"border-2\">\n        <CardHeader>\n          <CardTitle>Live Camera</CardTitle>\n          <CardDescription>\n            {ready\n              ? \"Tracking keypoints in real-time\"\n              : loading\n              ? \"Loading model/camera...\"\n              : \"Waiting for camera\"}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"relative w-full max-w-full aspect-video bg-muted rounded-lg overflow-hidden\">\n            <video ref={videoRef} className=\"hidden\" playsInline muted />\n            <canvas\n              ref={canvasRef}\n              className=\"absolute inset-0 w-full h-full\"\n            />\n          </div>\n          <div className=\"mt-3 flex flex-wrap gap-2\" aria-live=\"polite\">\n            {feedback.map((f, i) => (\n              <Badge\n                key={i}\n                variant={\n                  f === \"Good form! Keep going.\" ? \"secondary\" : \"destructive\"\n                }\n              >\n                {f}\n              </Badge>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {(aiText || isAnalyzing) && (\n        <Card className=\"border-2\">\n          <CardHeader>\n            <CardTitle>AI Feedback</CardTitle>\n            <CardDescription>\n              {isAnalyzing\n                ? \"Analyzing your recording with Gemini...\"\n                : \"Review the suggestions below\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {isAnalyzing ? (\n              <div className=\"text-sm text-muted-foreground flex items-center gap-2\">\n                <LoaderCircle className=\"animate-spin\" /> Processing\n              </div>\n            ) : aiText ? (\n              <ul className=\"list-disc pl-5 space-y-1 text-sm\">\n                {aiText\n                  .split(/\\n+/)\n                  .map((line) => line.trim())\n                  .filter(Boolean)\n                  .map((line, idx) => (\n                    <li key={idx}>{line}</li>\n                  ))}\n              </ul>\n            ) : null}\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n\nfunction avgPoint(a?: Keypoint, b?: Keypoint): Keypoint | undefined {\n  if (!a || !b) return undefined;\n  return {\n    x: (a.x + b.x) / 2,\n    y: (a.y + b.y) / 2,\n    score: Math.min(a.score ?? 1, b.score ?? 1),\n  };\n}\n\nfunction isSquat(name: string) {\n  return /squat/i.test(name);\n}\nfunction isRow(name: string) {\n  return /row|pulldown|pull/i.test(name);\n}\nfunction isPress(name: string) {\n  return /press|fly|overhead/i.test(name);\n}\n"],"names":[],"mappings":";;;;;AAEA;AAOA;AACA;AAOA;AACA;AAEA;AApBA;;;;;;;;;AAsBA,qBAAqB;AACrB,SAAS,SAAS,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU;IAC9D,8CAA8C;IAC9C,MAAM,KAAK,KAAK;IAChB,MAAM,KAAK,KAAK;IAChB,MAAM,MAAM,KAAK,KAAK,CAAC,IAAI,KAAK,mCAAmC;IACnE,OAAO,AAAC,MAAM,MAAO,KAAK,EAAE;AAC9B;AAKe,SAAS;IACtB,qBAAO,8OAAC,yJAAkB;;;;;;;IAC1B,MAAM;IACN,MAAM;IACN,MAAO,qBAAS;IAChB,MAAO,mBAAO;IACd,MAAO,sBAAU;IACjB,MAAO,wBAAY;IACnB,MAAO,6BAAiB;IAGxB,MAAO,yBAAa;IACpB,MAAO,yBAAa;IACpB,MAAO,oBAAQ;IACf,MAAM;IACN,MAAM;IAEN,MAAM;IAKN,MAAM;IAuBN,MAAM;IAwEN,MAAM;IAwHN,MAAM;IA2CN,MAAM;AAuHR;AAEA,SAAS,SAAS,CAAY,EAAE,CAAY;IAC1C,IAAI,CAAC,KAAK,CAAC,GAAG,OAAO;IACrB,OAAO;QACL,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI;QACjB,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI;QACjB,OAAO,KAAK,GAAG,CAAC,EAAE,KAAK,IAAI,GAAG,EAAE,KAAK,IAAI;IAC3C;AACF;AAEA,SAAS,QAAQ,IAAY;IAC3B,OAAO,SAAS,IAAI,CAAC;AACvB;AACA,SAAS,MAAM,IAAY;IACzB,OAAO,qBAAqB,IAAI,CAAC;AACnC;AACA,SAAS,QAAQ,IAAY;IAC3B,OAAO,sBAAsB,IAAI,CAAC;AACpC"}}]
}